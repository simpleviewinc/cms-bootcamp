<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Data Fetching</title>
</head>

<body>

	<ul class="movies"></ul>

	<script>
		// Add your code here
        const herokuData = 'https://ghibliapi.herokuapp.com';
		const herokuDataFilms = `${herokuData}/films`;
        const moviesList = document.querySelector('.movies');

        function handleError(err) {
            console.log('Error Happened!:');
			console.log(err);
		}

		const displayMovieTitles = async () => {
			const res = await fetch(herokuDataFilms);
			const data = await res.json();

			data.forEach(movie => {
				moviesList.insertAdjacentHTML('afterbegin', 
                `
                <li>${movie.title}</li>
                `)
			});
		};
		displayMovieTitles().catch(handleError);
	</script>

</body>

</html>