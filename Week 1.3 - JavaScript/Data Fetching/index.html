<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Data Fetching</title>
</head>
<body>
	
	<ul class="movies"></ul>
	
	<script>
		// Add your code here
		const movieListContainer = document.querySelector(".movies");
		(async function getMovies(){
			const movies = await fetch("https://ghibliapi.herokuapp.com/films")
				.then(res => res.json())
				.catch(handleError);
			const moviesHtml = movies.map(mov => `<li data-id=${mov.id}>${mov.title}</li>`).join("");
			movieListContainer.innerHTML = moviesHtml;
		})();

		function handleError(err){
			console.log(`Error: ${err}`);
			const errHtml = `<p>Ouch! Something went wrong...</p>`;
			movieListContainer.insertAdjacentHTML("beforebegin", errHtml);
		}
	</script>

</body>
</html>
