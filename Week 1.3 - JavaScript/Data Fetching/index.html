<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Data Fetching</title>
</head>
<body>
	
	<ul class="movies"></ul>
	
	<script>
		// Add your code here
		const movieList = document.querySelector('.movies')
		async function allMovies(){
			let res = await fetch('https://ghibliapi.herokuapp.com/films');
			const movies = await res.json();
			mapAllMovies(movies)
		}

		function mapAllMovies(movies){
			(movies).forEach(function(movie){
				newLi = document.createElement('li');
				newLi.textContent = movie.title;
				movieList.append(newLi)
			})
		}

		function handleError(err){
			console.log(`There's a problem: ${err}`)
		}
		allMovies().catch(handleError)
		
	</script>

</body>
</html>